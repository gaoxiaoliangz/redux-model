!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.reduxModel=t():e.reduxModel=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.createModel=t.extractReducers=t.feedStore=void 0;var u=n(1),a=r(u),c=n(2),s=r(c),f=n(3),p=r(f),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=n(4),y=n(5),v=(t.feedStore=function(e,t){t.forEach(function(t){t.store=e})},t.extractReducers=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,h.combineReducers)(t.reduce(function(e,t){return d({},e,i({},t.namespace,t.reducer))},{}))},function(e){return function(t,n){return{type:e,payload:t,meta:n,error:t instanceof Error||void 0}}}),x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.namespace,u=n.state,a=n.computations,c=n.effects,s=n.actionCreators,f=n.reducer;o(this,e),m.call(this),this.namespace=r,this.initialState=u;var l=(0,p.default)(a);(0,p.default)(c).concat((0,p.default)(s)).forEach(function(e){l.includes(e)?console.warn("Duplicated key '"+e+"' found! ('computations', 'effects' and 'actionCreators' should not contain the same key)"):l.push(e)}),this.actionTypes=l;var h=l.reduce(function(e,n){return d({},e,i({},n,t._generateActionCreator(n)))},{});this._actionCreators=d({},h,this._mapCreatorTypes(s)),this.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.initialState,n=arguments[1],r=f?f(e,n):e,o=t._unprefixType(n.type);return a[o]?a[o](r,n.payload,n.meta,n.error):r}}return l(e,[{key:"connect",value:function(e,t,n){var r=this;return(0,y.connect)(function(e){return e[r.namespace]},n)(e)}},{key:"store",set:function(e){var t=this;this.dispatch=e.dispatch;var n=(0,s.default)(this._actionCreators,function(e){return t._bindDispatch(e)});(0,a.default)(this,n)}}]),e}(),m=function(){var e=this;this._generateActionCreator=function(t){return v(e._prefixType(t))},this._unprefixType=function(t){var n=e.namespace+"/";return t.startsWith(n)?t.substr(n.length):t},this._prefixType=function(t){return e.namespace?e.namespace+"/"+t:t},this._mapCreatorTypes=function(t){return(0,s.default)(t,function(t,n){var r=e._prefixType(n);return function(){return d({type:r},t.apply(void 0,arguments))}})},this._bindDispatch=function(t){return function(){return e.dispatch(t.apply(void 0,arguments))}}};t.createModel=function(e){return new x(e)}},function(e,t){e.exports=require("lodash/assign")},function(e,t){e.exports=require("lodash/mapValues")},function(e,t){e.exports=require("lodash/keys")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-redux")}])});